{% extends 'base.html' %}

{% block content %}
<h1>Add Expenses</h1>
<form class="add_expense" method="POST" enctype="multipart/form-data">
    <fieldset>
        <legend>Text Input</legend>
        <div class="form-group">
            <label for="expense">Title</label>
            <input type="text" class="form-control" id="title" name="title" required>
        </div>
        <div class="form-group">
            <label for="expense">Amount:</label>
            <input type="number" class="form-control" id="amount" name="amount" required>
        </div>
        <div class="form-group">
            <label for="amount">Description:</label>
            <textarea class="form-control" id="description" name="description" required placeholder="Provide a short description here..."></textarea>
        </div>
        <div class="form-group">
            <label for="category">Category:</label>
            <select class="category" name="category" required>
                <option value="">(select one)</option>
                <option value="Groceries/Essentials">Groceries/Essentials</option>
                <option value="Housing">Housing</option>
                <option value="Transport">Transport</option>
                <option value="Dine-Outs">Dine-Outs</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Health & Fitness">Health & Fitness</option>
                <option value="Shopping">Shopping</option>
                <option value="Other">Other</option>
            </select>
            <br>
            <button type="submit" name="action" value="add_expense" class="btn btn-primary">Add Expense</button>
        </div>
    </fieldset>
</form>

<form method="POST" enctype="multipart/form-data">
    <fieldset>
        <h3>Upload your Bill</h3>
        <input type="file" name="bill_image" accept="image/*" required>
        <button type="submit" name="action" value="upload_bill" class="btn btn-secondary">Upload Bill</button>
    </fieldset>
</form>

{% if extracted_text %}
    <h2>Extracted Text From Uploaded Image :</h2>
    <pre style="color: #6EACDA">{{extracted_text}}</pre>
{% else %}
    <h3>No text extracted yet. Please upload the bill image.</h3>
{% endif %}

{% endblock %}
